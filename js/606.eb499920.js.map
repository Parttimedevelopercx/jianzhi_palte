{"version":3,"file":"js/606.eb499920.js","mappings":"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","sources":["webpack://APITestPlateform/./src/views/member/userManger.vue","webpack://APITestPlateform/src/views/member/userManger.vue","webpack://APITestPlateform/./src/views/member/userManger.vue?46d3","webpack://APITestPlateform/./src/views/member/userManger.vue?b7b9","webpack://APITestPlateform/./src/services/user.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user\"},[_c('div',{staticClass:\"user-header\"},[_c('el-button',{staticStyle:{\"float\":\"left\",\"font-size\":\"14px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-circle-plus-outline\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"新增用户\")]),_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.userForm}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{staticClass:\"user_input\",attrs:{\"placeholder\":\"输入用户名\"},model:{value:(_vm.userForm.user_name),callback:function ($$v) {_vm.$set(_vm.userForm, \"user_name\", $$v)},expression:\"userForm.user_name\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"user_search\",staticStyle:{\"font-size\":\"14px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"搜索\")]),_c('el-button',{staticClass:\"user_refresh\",staticStyle:{\"font-size\":\"14px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.handleRefresh}},[_vm._v(\"刷新\")])],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"编号\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"user_name\",\"label\":\"用户名\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"password\",\"label\":\"密码\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"nick_name\",\"label\":\"昵称\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"role\",\"label\":\"角色\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"creat_time\",\"label\":\"创建时间\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\",\"active-value\":\"1\",\"inactive-value\":\"0\",\"disabled\":\"\"},model:{value:(scope.row.status),callback:function ($$v) {_vm.$set(scope.row, \"status\", $$v)},expression:\"scope.row.status\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDel(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"用户信息\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.userInFo}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.userInFo.user_name),callback:function ($$v) {_vm.$set(_vm.userInFo, \"user_name\", $$v)},expression:\"userInFo.user_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"昵称\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autocomplete\":\"off\"},model:{value:(_vm.userInFo.nick_name),callback:function ($$v) {_vm.$set(_vm.userInFo, \"nick_name\", $$v)},expression:\"userInFo.nick_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autocomplete\":\"off\"},model:{value:(_vm.userInFo.role),callback:function ($$v) {_vm.$set(_vm.userInFo, \"role\", $$v)},expression:\"userInFo.role\"}})],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取 消\")]),(_vm.isAdd)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.processAdd}},[_vm._v(\"确 定\")]):_vm._e(),(!_vm.isAdd)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.processEdit}},[_vm._v(\"编 辑\")]):_vm._e()],1)],1),_c('el-pagination',{attrs:{\"current-page\":_vm.userForm.currentPage,\"page-sizes\":[20, 30, 40, 50],\"page-size\":_vm.userForm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.totalCount},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"user\">\r\n        <!--用户管理 头部-->\r\n        <div class=\"user-header\">\r\n            <el-button style=\"float: left; font-size: 14px\" type=\"primary\" icon=\"el-icon-circle-plus-outline\" @click=\"handleAdd\">新增用户</el-button>\r\n            <el-form :inline=\"true\" :model=\"userForm\" class=\"demo-form-inline\">\r\n                <el-form-item label=\"\">\r\n                    <el-input class=\"user_input\" v-model=\"userForm.user_name\" placeholder=\"输入用户名\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button class=\"user_search\" type=\"primary\" icon=\"el-icon-search\" style=\"font-size: 14px\" @click=\"handleSearch\">搜索</el-button>\r\n                    <el-button  class=\"user_refresh\" type=\"primary\" icon=\"el-icon-refresh\" style=\"font-size: 14px\" @click=\"handleRefresh\">刷新</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n\r\n        <!--用户管理 主体-->\r\n        <el-table\r\n            :data=\"tableData\"\r\n            style=\"width: 100%\">\r\n            <el-table-column\r\n                prop=\"id\"\r\n                label=\"编号\"\r\n                width=\"100\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"user_name\"\r\n                label=\"用户名\"\r\n                width=\"200\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"password\"\r\n                label=\"密码\"\r\n                width=\"200\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"nick_name\"\r\n                label=\"昵称\"\r\n                width=\"150\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"role\"\r\n                label=\"角色\"\r\n                width=\"200\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"creat_time\"\r\n                label=\"创建时间\"\r\n                width=\"200\">\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"status\"\r\n                label=\"状态\"\r\n                width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-switch\r\n                        v-model=\"scope.row.status\"\r\n                        active-color=\"#13ce66\"\r\n                        inactive-color=\"#ff4949\"\r\n                        active-value=\"1\"\r\n                        inactive-value=\"0\"\r\n                        disabled>\r\n                    </el-switch>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                label=\"操作\"\r\n                width=\"200\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button type=\"warning\" @click.stop=\"handleEdit(scope.row)\">编辑</el-button>\r\n                    <el-button type=\"danger\" @click.stop=\"handleDel(scope.row)\">删除</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <!--用户管理 表单信息-->\r\n        <el-dialog title=\"用户信息\" :visible.sync=\"dialogFormVisible\">\r\n            <el-form :model=\"userInFo\">\r\n                <el-form-item label=\"用户名\">\r\n                    <el-input v-model=\"userInFo.user_name\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <!-- <el-form-item label=\"密码\">\r\n                    <el-input type=\"textarea\" v-model=\"userInFo.password\" autocomplete=\"off\"></el-input>\r\n                </el-form-item> -->\r\n                <el-form-item label=\"昵称\">\r\n                    <el-input type=\"textarea\" v-model=\"userInFo.nick_name\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"角色\">\r\n                    <el-input type=\"textarea\" v-model=\"userInFo.role\" autocomplete=\"off\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n                <el-button v-if=\"isAdd\" type=\"primary\" @click=\"processAdd\">确 定</el-button>\r\n                <el-button v-if=\"!isAdd\" type=\"primary\" @click=\"processEdit\">编 辑</el-button>\r\n            </div>\r\n        </el-dialog>\r\n\r\n        <!--用户管理 分页-->\r\n        <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"userForm.currentPage\"\r\n            :page-sizes=\"[20, 30, 40, 50]\"\r\n            :page-size=\"userForm.pageSize\"\r\n            layout=\"total, sizes, prev, pager, next, jumper\"\r\n            :total=\"totalCount\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport userInfo from '@/services/user'\r\nexport default {\r\n    name:'user',\r\n    data(){\r\n        return{\r\n            userForm:{\r\n                user_name:'',\r\n                status:'',\r\n                pageSize:20,\r\n                currentPage:1\r\n\r\n            },\r\n            tableData: [{\r\n                id:'',\r\n                user_name:'',\r\n                password:'',\r\n                nick_name:'',\r\n                role:'',\r\n                creat_time:'',\r\n                status:''\r\n            }],\r\n            userInFo:{\r\n                user_name:'',\r\n                password:'',\r\n                nick_name:'',\r\n                role:''\r\n            },\r\n            dialogFormVisible:false,\r\n            multipleSelection:[],\r\n            multipleSelections:[],\r\n            currentId:null,\r\n            isAdd:true,\r\n            totalCount:0\r\n        }\r\n    },\r\n    created() {\r\n        this.loadUserList()\r\n    },\r\n    methods:{\r\n        // 列表\r\n        async loadUserList() {\r\n            const queryOption = {\r\n                type: 'ulist',\r\n                page: 1,\r\n                size: 20\r\n            }\r\n            try {\r\n                const { data: res } = await userInfo.getUserList(queryOption)\r\n                if (res.code === '0') {\r\n                    this.tableData = res.data\r\n                    this.totalCount = res.total_count\r\n                }\r\n            } catch (error) {                       // 捕获axios抛出的401异常请求\r\n                if (error.message === '未登录') {\r\n                    this.$router.push('/login') // 跳转至登录页\r\n                } else {\r\n                    // 处理其他错误\r\n                    this.$message.success('登陆失效，请重新登陆')\r\n                    this.$router.push('/login') // 跳转至登录页\r\n                }\r\n            }\r\n        },\r\n        // 搜索\r\n        async handleSearch() {\r\n            const searchOptions = {\r\n                user_name:this.userForm.user_name,\r\n                type:'uname',\r\n                token:\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYWRtaW4iLCJleHAiOjE2OTE4MTE2NzZ9.-iAgMZX31ZcLpvHN0IRlO_6u90Gj34eKekyfXGXkuQA\"\r\n            }\r\n            const {data:res} = await userInfo.getUserSearch(searchOptions)\r\n            if (res.code==='0'){\r\n                this.tableData = res.data\r\n                this.userForm.user_name=''\r\n            }\r\n        },\r\n        // 触发新增\r\n        handleAdd(){\r\n            this.isAdd = true\r\n            this.dialogFormVisible = true\r\n        },\r\n        // 执行新增\r\n        async processAdd(){\r\n            // 组装接口需要的参数\r\n            const addOption = {\r\n                user_name:this.userInFo.user_name,\r\n                nick_name:this.userInFo.nick_name,\r\n                role:this.userInFo.role\r\n            }\r\n            // 请求接口 获取返回值\r\n            const {data:res} = await userInfo.UserAdd(addOption)\r\n            // 判断请求结果，处理表单是否关闭\r\n            if (res.code==='0'){\r\n                // 提示添加成功，隐藏表单，并刷新列表\r\n                this.$message.success('添加成功')\r\n                this.dialogFormVisible = false\r\n                this.loadUserList()\r\n                this.userInFo = {\r\n                    user_name: '',\r\n                    nick_name:'',\r\n                    role:''\r\n                }\r\n            }\r\n        },\r\n        // 触发编辑\r\n        handleEdit(rowData) {\r\n            this.currentId = rowData.id\r\n            this.isAdd = false\r\n            this.dialogFormVisible = true\r\n            // 把原有的数据渲染至编辑表单中\r\n            this.userInFo.user_name = rowData.user_name\r\n            this.userInFo.password = rowData.password\r\n            this.userInFo.nick_name = rowData.nick_name\r\n            this.userInFo.role = rowData.role\r\n        },\r\n        // 执行编辑\r\n        async processEdit(){\r\n            // 组装接口请求需要的数据\r\n            const EditOption = {\r\n                id:this.currentId,\r\n                user_name:this.userInFo.user_name,\r\n                password:this.userInFo.password,\r\n                nick_name:this.userInFo.nick_name,\r\n                role:this.userInFo.role\r\n            }\r\n            // 发送请求\r\n            const {data:res} = await userInfo.UserEdit(EditOption)\r\n            if (res.code==='0'){\r\n                this.$message.success('编辑成功')\r\n                this.dialogFormVisible = false\r\n                this.loadUserList()\r\n                this.userInFo = {\r\n                    user_name: '',\r\n                    password: '',\r\n                    nick_name:'',\r\n                    role:''\r\n                }\r\n            }\r\n        },\r\n        // 删除任务\r\n        handleDel(rowData){\r\n            this.$confirm('删除用户, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(async () => {\r\n                // 组装接口需要的参数\r\n                const DelObj = {id:rowData.id}\r\n                // 请求接口 获取返回\r\n                const {data:res} = await userInfo.UserDel(DelObj)\r\n                if (res.code==='0'){\r\n                    this.loadUserList()\r\n                    this.$message.success('删除成功')\r\n                }\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消删除'\r\n                })\r\n            })\r\n        },\r\n        // 刷新\r\n        handleRefresh(){\r\n            this.loadUserList()\r\n            this.userForm.user_name=''\r\n        },\r\n        // 分页\r\n        handleSizeChange(val) {\r\n            this.userForm.pageSize = val\r\n            this.loadUserList()\r\n        },\r\n        handleCurrentChange(val) {\r\n            this.userForm.currentPage = val\r\n            this.loadUserList()\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.user_input{\r\n  margin: 0 20px;\r\n}\r\n.user_refresh{\r\n  margin: 0 2px;\r\n}\r\n.user_search{\r\n  margin: 0 28px;\r\n}\r\n.user-header{\r\n  height: 55px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./userManger.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./userManger.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userManger.vue?vue&type=template&id=d3b3752c&scoped=true&\"\nimport script from \"./userManger.vue?vue&type=script&lang=js&\"\nexport * from \"./userManger.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userManger.vue?vue&type=style&index=0&id=d3b3752c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d3b3752c\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utlis/request'\r\n\r\n// 用户登陆接口\r\nconst login = async (data)=>{\r\n    const res = await request({\r\n                method:'POST',\r\n                url:'login',\r\n                data:{...data}\r\n    })\r\n    return res\r\n}\r\n\r\n// 首页右上角用户查询\r\nconst getUserInfo = async (data)=>{\r\n    const info = await request({\r\n        method:'GET',\r\n        url:'user',\r\n        params:{\r\n            \"type\":\"uname\",\r\n            user_name:data\r\n        }\r\n    })\r\n    return info\r\n}\r\n\r\n// 用户列表\r\nconst getUserList = async (data)=>{\r\n    const userlist = await request({\r\n        method:'GET',\r\n        url:'user',\r\n        params:{...data}\r\n    })\r\n    return userlist\r\n}\r\n\r\n// 搜索\r\nconst getUserSearch = async (data)=>{\r\n    const userSearch = await request({\r\n        method:'GET',\r\n        url:'user',\r\n        params:{...data}\r\n    })\r\n    return userSearch\r\n}\r\n\r\n// 新增\r\nconst UserAdd = async (data)=>{\r\n    const useradd = await request({\r\n        method:'POST',\r\n        url:'user',\r\n        data\r\n    })\r\n    return useradd\r\n}\r\n\r\n// 编辑\r\nconst UserEdit = async (data)=>{\r\n    const useredit = await request({\r\n        method:'PUT',\r\n        url:'user',\r\n        data\r\n    })\r\n    return useredit\r\n}\r\n\r\n// 删除\r\nconst UserDel = async (data)=>{\r\n    const userdel = await request({\r\n        method:'DELETE',\r\n        url:'user',\r\n        data\r\n    })\r\n    return userdel\r\n}\r\nexport default  {\r\n    login,\r\n    getUserInfo,\r\n    getUserList,\r\n    getUserSearch,\r\n    UserAdd,\r\n    UserEdit,\r\n    UserDel\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","attrs","on","handleAdd","_v","userForm","model","value","user_name","callback","$$v","$set","expression","handleSearch","handleRefresh","tableData","scopedSlots","_u","key","fn","scope","row","status","$event","stopPropagation","handleEdit","handleDel","dialogFormVisible","userInFo","nick_name","role","slot","isAdd","processAdd","_e","processEdit","currentPage","pageSize","totalCount","handleSizeChange","handleCurrentChange","staticRenderFns","name","data","id","password","creat_time","multipleSelection","multipleSelections","currentId","created","loadUserList","methods","queryOption","type","page","size","res","userInfo","getUserList","code","total_count","error","message","$message","success","$router","push","searchOptions","token","getUserSearch","addOption","UserAdd","rowData","EditOption","UserEdit","$confirm","confirmButtonText","cancelButtonText","then","DelObj","UserDel","catch","val","component","login","async","request","method","url","getUserInfo","info","params","userlist","userSearch","useradd","useredit","userdel"],"sourceRoot":""}