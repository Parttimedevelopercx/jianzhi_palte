"use strict";(self["webpackChunkAPITestPlateform"]=self["webpackChunkAPITestPlateform"]||[]).push([[535],{2723:function(e,s,r){r.r(s),r.d(s,{default:function(){return u}});var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"Login_container"},[s("div",{staticClass:"login_box"},[s("h1",{staticStyle:{"text-align":"center",color:"whitesmoke","letter-spacing":"8px"}},[e._v("程序媛兼职系统")]),s("el-form",{ref:"loginFormRules",staticClass:"login_form",attrs:{"label-width":"80px",model:e.loginForm,rules:e.loginFormRules}},[s("el-form-item",{attrs:{label:"账号",prop:"username"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.loginForm.username,callback:function(s){e.$set(e.loginForm,"username",s)},expression:"loginForm.username"}})],1),s("el-form-item",{attrs:{label:"密码",prop:"password"}},[s("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock"},model:{value:e.loginForm.password,callback:function(s){e.$set(e.loginForm,"password",s)},expression:"loginForm.password"}})],1),s("el-form-item",{staticClass:"btns"},[s("el-button",{attrs:{type:"primary",loading:e.isLogin},on:{click:e.handleLogin}},[e._v("登录")]),s("el-button",{attrs:{type:"info"},on:{click:e.handleLoginReset}},[e._v("重置")])],1)],1)],1)])},a=[],o=(r(7658),r(3099)),n={name:"Login",data(){return{isLogin:!1,loginForm:{username:"",password:""},loginFormRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"},{min:5,max:18,message:"长度在5到18个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:5,max:18,message:"长度在5到18个字符",trigger:"blur"}]}}},methods:{handleLoginReset(){this.$refs.loginFormRules.resetFields()},async handleLogin(){try{await this.$refs.loginFormRules.validate(),this.isLogin=!0;const{data:e}=await o.Z.login({user_name:this.loginForm.username,password:this.loginForm.password,operation:"login"});this.isLogin=!1,"0"===e.code?(this.$store.commit("setUserToken",e?.data?.token),this.$store.commit("saveUserRoute",e?.userMenus),this.$store.commit("saveUser",this.loginForm.username),this.$message.success("登陆成功"),await this.$router.push({path:"/home"})):this.$message.error("登陆失败")}catch(e){this.$message.error("登陆失败")}}}},i=n,l=r(1001),m=(0,l.Z)(i,t,a,!1,null,"f68a0b18",null),u=m.exports},3099:function(e,s,r){var t=r(2218);const a=async e=>{const s=await(0,t.Z)({method:"POST",url:"login",data:{...e}});return s},o=async e=>{const s=await(0,t.Z)({method:"GET",url:"user",params:{type:"uname",user_name:e}});return s},n=async e=>{const s=await(0,t.Z)({method:"GET",url:"user",params:{...e}});return s},i=async e=>{const s=await(0,t.Z)({method:"GET",url:"user",params:{...e}});return s},l=async e=>{const s=await(0,t.Z)({method:"POST",url:"user",data:e});return s},m=async e=>{const s=await(0,t.Z)({method:"PUT",url:"user",data:e});return s},u=async e=>{const s=await(0,t.Z)({method:"DELETE",url:"user",data:e});return s};s.Z={login:a,getUserInfo:o,getUserList:n,getUserSearch:i,UserAdd:l,UserEdit:m,UserDel:u}}}]);
//# sourceMappingURL=login.a3785802.js.map