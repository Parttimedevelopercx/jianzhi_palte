{"version":3,"file":"js/login.a3785802.js","mappings":"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","sources":["webpack://APITestPlateform/./src/views/login/LoginView.vue","webpack://APITestPlateform/src/views/login/LoginView.vue","webpack://APITestPlateform/./src/views/login/LoginView.vue?1da0","webpack://APITestPlateform/./src/views/login/LoginView.vue?f970","webpack://APITestPlateform/./src/services/user.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"Login_container\"},[_c('div',{staticClass:\"login_box\"},[_c('h1',{staticStyle:{\"text-align\":\"center\",\"color\":\"whitesmoke\",\"letter-spacing\":\"8px\"}},[_vm._v(\"程序媛兼职系统\")]),_c('el-form',{ref:\"loginFormRules\",staticClass:\"login_form\",attrs:{\"label-width\":\"80px\",\"model\":_vm.loginForm,\"rules\":_vm.loginFormRules}},[_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"username\"}},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-user-solid\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"prefix-icon\":\"el-icon-lock\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-form-item',{staticClass:\"btns\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.isLogin},on:{\"click\":_vm.handleLogin}},[_vm._v(\"登录\")]),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.handleLoginReset}},[_vm._v(\"重置\")])],1)],1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"Login_container\">\r\n        <div class=\"login_box\">\r\n            <h1 style=\"text-align: center; color: whitesmoke; letter-spacing: 8px\">程序媛兼职系统</h1>\r\n            <el-form\r\n                label-width=\"80px\"\r\n                :model=\"loginForm\"\r\n                ref=\"loginFormRules\"\r\n                :rules=\"loginFormRules\"\r\n                class=\"login_form\">\r\n                <el-form-item label=\"账号\" prop=\"username\">\r\n                    <el-input\r\n                        v-model=\"loginForm.username\"\r\n                        prefix-icon=\"el-icon-user-solid\">\r\n                    </el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"password\">\r\n                    <el-input\r\n                        type=\"password\"\r\n                        v-model=\"loginForm.password\"\r\n                        prefix-icon=\"el-icon-lock\">\r\n                    </el-input>\r\n                </el-form-item>\r\n                <!--登录 和重置 -->\r\n                <el-form-item class=\"btns\">\r\n                    <el-button type=\"primary\" @click=\"handleLogin\" :loading=\"isLogin\">登录</el-button>\r\n                    <el-button type=\"info\" @click=\"handleLoginReset\">重置</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport ll from '@/services/user'\r\nexport default {\r\n    name: 'Login',\r\n    data(){\r\n        return{\r\n            isLogin: false,\r\n            loginForm:{\r\n                username: '',\r\n                password: ''\r\n            },\r\n            // 表单提交的验证\r\n            loginFormRules:{\r\n                // 验证账号\r\n                username:[\r\n                    { required: true, message: '请输入账号', trigger: 'blur' },\r\n                    { min: 5, max: 18, message: '长度在5到18个字符', trigger: 'blur' }\r\n                ],\r\n                // 验证密码\r\n                password:[\r\n                    { required: true, message: '请输入密码', trigger: 'blur' },\r\n                    { min: 5, max: 18, message: '长度在5到18个字符', trigger: 'blur' }\r\n                ],\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        // 重置\r\n        handleLoginReset() {\r\n            // 重置输入框的内容\r\n            this.$refs.loginFormRules.resetFields()\r\n        },\r\n        // 登陆\r\n        async handleLogin() {\r\n            try {\r\n                // 1设置校验\r\n                await this.$refs.loginFormRules.validate()\r\n                // 表单数据校验通过后登陆按钮状态改变为 加载中\r\n                this.isLogin = true\r\n                // 2发送请求\r\n                const {data:res } = await ll.login({\r\n                    \"user_name\":this.loginForm.username,\r\n                    \"password\":this.loginForm.password,\r\n                    \"operation\":\"login\"\r\n                })\r\n            //   console.log('这里执行了')\r\n                // 拿到响应数据后改变登陆状态\r\n                this.isLogin = false\r\n                // 3响应处理\r\n                if (res.code==='0'){\r\n                    //  保存token在vuex中\r\n                    this.$store.commit('setUserToken', res?.data?.token)\r\n                    //  保存路由在vuex中\r\n                    this.$store.commit('saveUserRoute', res?.userMenus)\r\n                    //  保存用户名在vuex中\r\n                    this.$store.commit('saveUser', this.loginForm.username)\r\n                    this.$message.success('登陆成功')\r\n                    await this.$router.push({path: '/home'})\r\n\r\n                }\r\n                else {this.$message.error('登陆失败')}\r\n            }\r\n            catch (err){\r\n                // 校验失败的提示\r\n                // console.log('校验失败')\r\n                this.$message.error('登陆失败')\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n    .Login_container{\r\n        width: 100%;\r\n        height: 100%;\r\n        background-image: url(\"../../assets/5.jpg\");\r\n        background-size: cover;\r\n        background-position: center;\r\n    }\r\n    .login_box{\r\n        width: 420px;\r\n        height: 260px;\r\n        background: rgba(0, 0, 0, 0.4);\r\n        border-radius: 3px;\r\n        position: absolute;\r\n        left: 50%;\r\n        right: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n    }\r\n    .el-form.login_form{\r\n        width: 90% !important;\r\n    }\r\n    .btns{\r\n        display: flex;\r\n        justify-content: flex-end;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LoginView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoginView.vue?vue&type=template&id=f68a0b18&scoped=true&\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js&\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoginView.vue?vue&type=style&index=0&id=f68a0b18&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f68a0b18\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utlis/request'\r\n\r\n// 用户登陆接口\r\nconst login = async (data)=>{\r\n    const res = await request({\r\n                method:'POST',\r\n                url:'login',\r\n                data:{...data}\r\n    })\r\n    return res\r\n}\r\n\r\n// 首页右上角用户查询\r\nconst getUserInfo = async (data)=>{\r\n    const info = await request({\r\n        method:'GET',\r\n        url:'user',\r\n        params:{\r\n            \"type\":\"uname\",\r\n            user_name:data\r\n        }\r\n    })\r\n    return info\r\n}\r\n\r\n// 用户列表\r\nconst getUserList = async (data)=>{\r\n    const userlist = await request({\r\n        method:'GET',\r\n        url:'user',\r\n        params:{...data}\r\n    })\r\n    return userlist\r\n}\r\n\r\n// 搜索\r\nconst getUserSearch = async (data)=>{\r\n    const userSearch = await request({\r\n        method:'GET',\r\n        url:'user',\r\n        params:{...data}\r\n    })\r\n    return userSearch\r\n}\r\n\r\n// 新增\r\nconst UserAdd = async (data)=>{\r\n    const useradd = await request({\r\n        method:'POST',\r\n        url:'user',\r\n        data\r\n    })\r\n    return useradd\r\n}\r\n\r\n// 编辑\r\nconst UserEdit = async (data)=>{\r\n    const useredit = await request({\r\n        method:'PUT',\r\n        url:'user',\r\n        data\r\n    })\r\n    return useredit\r\n}\r\n\r\n// 删除\r\nconst UserDel = async (data)=>{\r\n    const userdel = await request({\r\n        method:'DELETE',\r\n        url:'user',\r\n        data\r\n    })\r\n    return userdel\r\n}\r\nexport default  {\r\n    login,\r\n    getUserInfo,\r\n    getUserList,\r\n    getUserSearch,\r\n    UserAdd,\r\n    UserEdit,\r\n    UserDel\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","_v","ref","attrs","loginForm","loginFormRules","model","value","username","callback","$$v","$set","expression","password","isLogin","on","handleLogin","handleLoginReset","staticRenderFns","name","data","required","message","trigger","min","max","methods","$refs","resetFields","validate","res","ll","login","code","$store","commit","token","userMenus","$message","success","$router","push","path","error","err","component","async","request","method","url","getUserInfo","info","params","user_name","getUserList","userlist","getUserSearch","userSearch","UserAdd","useradd","UserEdit","useredit","UserDel","userdel"],"sourceRoot":""}