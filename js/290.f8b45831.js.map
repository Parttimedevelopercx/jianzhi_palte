{"version":3,"file":"js/290.f8b45831.js","mappings":"4KAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,UAAUC,KAAK,UAAU,CAACJ,EAAG,UAAU,CAACE,YAAY,mBAAmBC,MAAM,CAAC,QAAS,EAAK,MAAQL,EAAIO,cAAc,CAACL,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,KAAK,CAACH,EAAG,WAAW,CAACE,YAAY,gBAAgBC,MAAM,CAAC,YAAc,YAAYG,MAAM,CAACC,MAAOT,EAAIO,YAAYG,aAAcC,SAAS,SAAUC,GAAMZ,EAAIa,KAAKb,EAAIO,YAAa,eAAgBK,EAAI,EAAEE,WAAW,+BAA+B,GAAGZ,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,UAAU,KAAO,kBAAkBU,GAAG,CAAC,MAAQf,EAAIgB,eAAe,CAAChB,EAAIiB,GAAG,SAAS,GAAGf,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,UAAU,KAAO,mBAAmBU,GAAG,CAAC,MAAQf,EAAIkB,gBAAgB,CAAClB,EAAIiB,GAAG,SAAS,IAAI,IAAI,GAAGf,EAAG,WAAW,CAACiB,YAAY,CAAC,MAAQ,QAAQd,MAAM,CAAC,KAAOL,EAAIoB,UAAUC,OAAOrB,EAAIsB,YAAY,GAAGtB,EAAIuB,SAASvB,EAAIsB,YAAYtB,EAAIuB,YAAY,CAACrB,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,eAAe,MAAQ,OAAO,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,eAAe,MAAQ,OAAO,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,cAAc,MAAQ,OAAO,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,qBAAqB,MAAQ,OAAO,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,yBAAyB,MAAQ,OAAO,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,aAAa,MAAQ,OAAO,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,KAAK,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,MAAM,MAAQ,OAAOmB,YAAYxB,EAAIyB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAC1B,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAUU,GAAG,CAAC,MAAQ,SAASc,GAAiC,OAAzBA,EAAOC,kBAAyB9B,EAAI+B,WAAWH,EAAMI,IAAI,IAAI,CAAChC,EAAIiB,GAAG,QAAQ,QAAQ,GAAGf,EAAG,gBAAgB,CAACG,MAAM,CAAC,eAAeL,EAAIsB,YAAY,WAAa,GAAG,aAAa,CAAC,GAAG,GAAG,IAAI,YAAYtB,EAAIuB,SAAS,OAAS,2CAA2C,MAAQvB,EAAIoB,UAAUa,QAAQlB,GAAG,CAAC,cAAcf,EAAIkC,iBAAiB,iBAAiBlC,EAAImC,wBAAwB,EAC3mE,EACIC,EAAkB,G,oBC+EtB,GACAC,KAAA,UACAC,OACA,OACAlB,UAAA,GACAmB,OAAA,EACAC,UAAA,KACAC,mBAAA,EACAlC,YAAA,CACAG,aAAA,IAEAgC,YAAA,CACAhC,aAAA,GACAiC,YAAA,GACAC,mBAAA,GACAC,uBAAA,GACAC,OAAA,IAEAC,eAAA,QACAC,WAAA,EACA1B,YAAA,EACAC,SAAA,GAEA,EACA0B,UACA,KAAAC,iBACA,EACAC,QAAA,CAEA,wBACA,IACA,MAAAb,KAAAc,SAAAC,EAAAA,EAAAA,MACA,KAAAjC,UAAAgC,EAAAd,KACA,KAAAU,WAAAI,EAAAE,WACA,CACA,MAAAC,GACA,QAAAA,EAAAC,SAIA,KAAAC,SAAAC,QAAA,cAHA,KAAAC,QAAAC,KAAA,SAMA,CACA,EAEA1B,iBAAA,SAAA2B,GACA,KAAAtC,SAAAsC,CAEA,EACA1B,oBAAA,SAAAb,GACA,KAAAA,YAAAA,CAEA,EAEA,qBACA,MAAAwC,EAAA,CACApD,aAAA,KAAAH,YAAAG,aACAqD,KAAA,UAEAzB,KAAA0B,SAAAC,EAAAA,EAAAA,IAAAH,GACA,MAAAE,EAAAE,OACA,KAAA9C,UAAA4C,EAAA1B,KACA,KAAA/B,YAAAG,aAAA,GAEA,EAEAQ,gBACA,KAAAgC,kBACA,KAAA3C,YAAAG,aAAA,EACA,EAEAqB,WAAAoC,GACA,KAAAC,SAAA,uCACAC,kBAAA,KACAC,iBAAA,KACAP,KAAA,YACAQ,MAAA,UACA,MAAAjC,KAAA0B,SAAAQ,EAAAA,EAAAA,IAAA,CACAC,aAAAN,EAAAM,aACAC,QAAAP,EAAAzD,aACAiC,YAAAwB,EAAAxB,YACAC,mBAAAuB,EAAAvB,mBACAC,uBAAAsB,EAAAtB,uBACA8B,WAAAR,EAAAQ,WACA7B,OAAAqB,EAAArB,OACA8B,YAAAC,aAAAC,WAEA,MAAAd,EAAAE,OACA,KAAAT,SAAAC,QAAA,kBACA,KAAAR,kBACA,IACA6B,OAAA,KACA,KAAAtB,SAAA,CACAM,KAAA,OACAP,QAAA,OACA,GAEA,ICnL4P,I,UCQxPwB,GAAY,OACd,EACAjF,EACAqC,GACA,EACA,KACA,WACA,MAIF,EAAe4C,EAAiB,O,8LChBxB,MAAM3B,EAAiBA,KACpB4B,EAAAA,EAAAA,GAAQ,CACXC,OAAO,MACPC,IAAI,OACJC,OAAO,CACHrB,KAAK,WAMJsB,EAAc/C,IAChB2C,EAAAA,EAAAA,GAAQ,CACXC,OAAO,OACPC,IAAI,OACJ7C,SAKKgD,EAAehD,IACjB2C,EAAAA,EAAAA,GAAQ,CACXC,OAAO,MACPC,IAAI,OACJ7C,SAKK2B,EAAc3B,IAChB2C,EAAAA,EAAAA,GAAQ,CACXC,OAAO,MACPC,IAAI,OACJC,OAAO,IAAI9C,KAKNiD,EAAiBjD,IACnB2C,EAAAA,EAAAA,GAAQ,CACXC,OAAO,SACPC,IAAI,OACJ7C,SAKKkC,EAAsBlC,IACxB2C,EAAAA,EAAAA,GAAQ,CACXC,OAAO,OACPC,IAAI,UACJ7C,Q","sources":["webpack://APITestPlateform/./src/views/testenv/env.vue","webpack://APITestPlateform/src/views/testenv/env.vue","webpack://APITestPlateform/./src/views/testenv/env.vue?8ee8","webpack://APITestPlateform/./src/views/testenv/env.vue?aa80","webpack://APITestPlateform/./src/services/project.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('el-form',{staticClass:\"demo-form-inline\",attrs:{\"inline\":true,\"model\":_vm.projectForm}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('el-input',{staticClass:\"project_input\",attrs:{\"placeholder\":\"输入需求名称搜索\"},model:{value:(_vm.projectForm.project_name),callback:function ($$v) {_vm.$set(_vm.projectForm, \"project_name\", $$v)},expression:\"projectForm.project_name\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"project_search\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleSearch}},[_vm._v(\"搜索\")])],1),_c('el-form-item',[_c('el-button',{staticClass:\"project_refresh\",attrs:{\"type\":\"primary\",\"icon\":\"el-icon-refresh\"},on:{\"click\":_vm.handleRefresh}},[_vm._v(\"刷新\")])],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData.slice((_vm.currentPage-1)*_vm.pagesize,_vm.currentPage*_vm.pagesize)}},[_c('el-table-column',{attrs:{\"prop\":\"jz_order_num\",\"label\":\"订单编号\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"project_name\",\"label\":\"需求名称\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"需求描述\",\"width\":\"500\"}}),_c('el-table-column',{attrs:{\"prop\":\"cycle_requiremente\",\"label\":\"周期要求\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"prop\":\"technical_requiremente\",\"label\":\"技术要求\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"creat_time\",\"label\":\"发布时间\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"budget\",\"label\":\"预算\",\"width\":\"100\"}}),_c('el-table-column',{attrs:{\"label\":\"操作栏\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.handelSure(scope.row)}}},[_vm._v(\"接单\")])]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"background\":\"\",\"page-sizes\":[20,30,50],\"page-size\":_vm.pagesize,\"layout\":\"total, sizes,  prev, pager, next, jumper\",\"total\":_vm.tableData.length},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <!-- 列表头部-->\r\n        <div slot=\"header\" class=\"clearfix\">\r\n            <el-form :inline=\"true\" :model=\"projectForm\" class=\"demo-form-inline\">\r\n                <el-form-item label=\"\">\r\n                    <el-input  class=\"project_input\" v-model=\"projectForm.project_name\" placeholder=\"输入需求名称搜索\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button class=\"project_search\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleSearch\">搜索</el-button>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button class=\"project_refresh\" type=\"primary\" icon=\"el-icon-refresh\" @click=\"handleRefresh\">刷新</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n\r\n        <!-- 列表主体 -->\r\n        <el-table\r\n            :data=\"tableData.slice((currentPage-1)*pagesize,currentPage*pagesize)\"\r\n            style=\"width: 100%\">\r\n          <el-table-column\r\n              prop=\"jz_order_num\"\r\n              label=\"订单编号\"\r\n              width=\"200\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"project_name\"\r\n              label=\"需求名称\"\r\n              width=\"300\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"description\"\r\n              label=\"需求描述\"\r\n              width=\"500\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"cycle_requiremente\"\r\n              label=\"周期要求\"\r\n              width=\"80\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"technical_requiremente\"\r\n              label=\"技术要求\"\r\n              width=\"200\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"creat_time\"\r\n              label=\"发布时间\"\r\n              width=\"120\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              prop=\"budget\"\r\n              label=\"预算\"\r\n              width=\"100\">\r\n          </el-table-column>\r\n          <el-table-column\r\n              label=\"操作栏\"\r\n              width=\"100\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button type=\"danger\" @click.stop=\"handelSure(scope.row)\">接单</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        \r\n        <!--分页-->\r\n        <el-pagination\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\"\r\n            :current-page=\"currentPage\"\r\n            background\r\n            :page-sizes=\"[20,30,50]\"  \r\n            :page-size=\"pagesize\"         \r\n            layout=\"total, sizes,  prev, pager, next, jumper\" \r\n            :total=\"tableData.length\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {getProjectList,SearchPlan, Sure_jianzhi_order} from \"@/services/project\"\r\nexport default {\r\n    name:'Project',\r\n    data(){\r\n        return{\r\n            tableData: [],\r\n            isAdd:true,\r\n            currentId:null,\r\n            dialogFormVisible: false,\r\n            projectForm: {\r\n                project_name: ''\r\n            },\r\n            projectInFo: {\r\n                project_name: '',\r\n                description: '',\r\n                cycle_requiremente: '',\r\n                technical_requiremente: '',\r\n                budget: ''\r\n            },\r\n            formLabelWidth: '120px',\r\n            totalCount:0,\r\n            currentPage:1, // 初始页\r\n            pagesize:20,  // 初始每页的数据\r\n        }\r\n    },\r\n    created() {\r\n        this.loadProjectInfo()\r\n    },\r\n    methods:{\r\n        // 列表\r\n        async loadProjectInfo(){\r\n            try {\r\n                const {data:ret} = await getProjectList()\r\n                this.tableData = ret.data\r\n                this.totalCount = ret.total_count    // 取出接口返回的兼职总数\r\n            }\r\n            catch (error) {\r\n                if (error.message === '未登录') {\r\n                    this.$router.push('/login') // 跳转至登录页\r\n                } else {\r\n                    // 处理其他错误\r\n                    this.$message.success('登录失效，请重新登陆')\r\n                    this.$router.push('/login') // 跳转至登录页\r\n                }\r\n            }\r\n        },\r\n        // 初始页currentPage、初始每页数据数pagesize和数据data\r\n        handleSizeChange: function (size) {\r\n                this.pagesize = size;\r\n                // console.log(this.pagesize)  //每页下拉显示数据\r\n        },\r\n        handleCurrentChange: function(currentPage){\r\n                this.currentPage = currentPage;\r\n                // console.log(this.currentPage)  //点击第几页\r\n        },\r\n        // 搜索\r\n        async handleSearch() {\r\n            const searchOptions = {\r\n                project_name:this.projectForm.project_name,\r\n                type:'pname'\r\n            }\r\n            const {data:res} = await SearchPlan(searchOptions)\r\n            if (res.code==='0'){\r\n                this.tableData = res.data\r\n                this.projectForm.project_name = ''\r\n            }\r\n        },\r\n        // 刷新\r\n        handleRefresh(){\r\n            this.loadProjectInfo()\r\n            this.projectForm.project_name=''\r\n        },\r\n        // 是否确定接单\r\n        handelSure(rowData){\r\n            this.$confirm('请仔细阅读需求，接单后需在规定时间内完成任务，是否确认接单?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(async () => {\r\n                const {data:res} = await Sure_jianzhi_order({\r\n                    jz_order_num:rowData.jz_order_num,\r\n                    xq_name:rowData.project_name,\r\n                    description:rowData.description,\r\n                    cycle_requiremente:rowData.cycle_requiremente,\r\n                    technical_requiremente:rowData.technical_requiremente,\r\n                    creat_time:rowData.creat_time,\r\n                    budget:rowData.budget,\r\n                    order_owner:localStorage.username\r\n                })\r\n                if (res.code==='0'){\r\n                    this.$message.success('接单成功，请到我的订单查看；')\r\n                    this.loadProjectInfo()\r\n                }\r\n            }).catch(() => {\r\n                this.$message({\r\n                    type: 'info',\r\n                    message: '已取消'\r\n                })\r\n            })\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.project_input{\r\n  margin-right: 20px;\r\n}\r\n.project_refresh{\r\n  margin: 0 2px;\r\n}\r\n.project_search{\r\n  margin: 0 28px;\r\n}\r\n.clearfix{\r\n  height: 55px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./env.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./env.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./env.vue?vue&type=template&id=354be0e4&scoped=true&\"\nimport script from \"./env.vue?vue&type=script&lang=js&\"\nexport * from \"./env.vue?vue&type=script&lang=js&\"\nimport style0 from \"./env.vue?vue&type=style&index=0&id=354be0e4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"354be0e4\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utlis/request'\r\n\r\n// 兼职列表查询\r\nexport  const getProjectList = () =>{\r\n    return request({\r\n        method:'GET',\r\n        url:'plan',\r\n        params:{\r\n            type:'plist'\r\n        }\r\n    })\r\n}\r\n\r\n// 添加兼职单\r\nexport const AddProject = (data) =>{\r\n    return request({\r\n        method:'POST',\r\n        url:'plan',\r\n        data\r\n    })\r\n}\r\n\r\n// 编辑兼职单\r\nexport const EditProject = (data) =>{\r\n    return request({\r\n        method:'PUT',\r\n        url:'plan',\r\n        data\r\n    })\r\n}\r\n\r\n// 搜索\r\nexport const SearchPlan = (data) => {\r\n    return request({\r\n        method:'GET',\r\n        url:'plan',\r\n        params:{...data}\r\n    })\r\n}\r\n\r\n// 删除兼职单\r\nexport const DeleteProject = (data) =>{\r\n    return request({\r\n        method:'DELETE',\r\n        url:'plan',\r\n        data\r\n    })\r\n}\r\n\r\n// 确认接单\r\nexport const Sure_jianzhi_order = (data) =>{\r\n    return request({\r\n        method:'POST',\r\n        url:'student',\r\n        data\r\n    })\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","projectForm","model","value","project_name","callback","$$v","$set","expression","on","handleSearch","_v","handleRefresh","staticStyle","tableData","slice","currentPage","pagesize","scopedSlots","_u","key","fn","scope","$event","stopPropagation","handelSure","row","length","handleSizeChange","handleCurrentChange","staticRenderFns","name","data","isAdd","currentId","dialogFormVisible","projectInFo","description","cycle_requiremente","technical_requiremente","budget","formLabelWidth","totalCount","created","loadProjectInfo","methods","ret","getProjectList","total_count","error","message","$message","success","$router","push","size","searchOptions","type","res","SearchPlan","code","rowData","$confirm","confirmButtonText","cancelButtonText","then","Sure_jianzhi_order","jz_order_num","xq_name","creat_time","order_owner","localStorage","username","catch","component","request","method","url","params","AddProject","EditProject","DeleteProject"],"sourceRoot":""}